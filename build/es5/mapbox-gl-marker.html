<html><head><link rel="import" href="../polymer/polymer-element.html"></head><body><dom-module id="mapbox-gl-marker"><template><style>:host{display:block;padding:0;}</style><slot></slot></template><script>var MapboxGlMarker=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'connectedCallback',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'connectedCallback',this).call(this),this._attached=!0}},{key:'disconnectedCallback',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'disconnectedCallback',this).call(this),this._attached=!1,this.marker&&this.marker.remove()}},{key:'updateLatLng',value:function(d,e,f){d&&d.setLngLat([f,e])}},{key:'_createMarkerElement',value:function(){var g,d=this.shadowRoot.querySelector('slot').assignedNodes({flatten:!0}),e=d.length,f=('mapbox-gl-marker '+this.className).trim();if(0==e)g=document.createElement('div'),g.className=f;else{g=document.createElement('div'),g.className=f;for(var h=0;h<e;++h)g.appendChild(d[h])}this._ele=g}},{key:'_createMarker',value:function(d,e,f,g){return d&&e?new mapboxgl.Marker(e,{offset:[f,g]}).setLngLat([this.longitude,this.latitude]).addTo(d):void 0}},{key:'_updateStyle',value:function(d,e,f,g,h,j){d&&(d.style.height=f+'px',d.style.width=e+'px',g&&(d.style.borderRadius=g),h&&(d.style.backgroundColor=h),j&&(d.style.backgroundImage='url('+j+')'),this._arr&&(this._arr.style.transform='translateX('+e/2+'px)'))}},{key:'_addDownArrow',value:function(d,e,f,g,h){if(d){if(!e)return void(this._arr&&(d.removeChild(this._arr),this.offsetTop=0));var j=this._arr||document.createElement('div');j.style.transform='translateX('+f/2+'px)',j.style.marginLeft='-8px',j.style.position='absolute',j.style.bottom='-8px',j.style.width='0px',j.style.height='0px',j.style.borderLeft='8px solid transparent',j.style.borderRight='8px solid transparent',j.style.borderTop='8px solid '+h,this._arr=j,this.offsetTop=-(0.5*g)-8,d.appendChild(j)}}}],[{key:'is',get:function(){return'mapbox-gl-marker'}},{key:'properties',get:function(){return{showArrow:{type:Boolean,value:!1},arrowColor:{type:String,value:'#444'},borderRadius:{type:String},height:{type:Number,value:24},width:{type:Number,value:24},latitude:{type:Number},longitude:{type:Number},backgroundColor:{type:String},backgroundImage:{type:String},offsetLeft:{type:Number,value:0},offsetTop:{type:Number,value:0},map:{type:Object},marker:{type:Object,notify:!0,readonly:!0,computed:'_createMarker(map, _ele, offsetLeft, offsetTop)'},_ele:{type:Object,computed:'_createMarkerElement(map)'},_arr:Object,_attached:Boolean}}},{key:'observers',get:function(){return['updateLatLng(marker, latitude, longitude)','_updateStyle(_ele, width, height, borderRadius, backgroundColor, backgroundImage)','_addDownArrow(_ele, showArrow, width, height, arrowColor)']}}]),b}(Polymer.Element);window.customElements.define(MapboxGlMarker.is,MapboxGlMarker);</script></dom-module></body></html>