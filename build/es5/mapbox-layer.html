<html><head><link rel="import" href="../polymer/polymer-element.html"><link rel="import" href="./layer-behavior.html"></head><body><dom-module id="mapbox-layer"><script>var MapboxLayer=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'_mapReady',value:function(d,e){if(d&&e){var f=d.loaded();return f?this._sourceReady():void d.on('load',this._sourceReady.bind(this))}}},{key:'_addLayer',value:function(){this._added||(this.map.addLayer(this._layer),this._added=!0,this.dispatchEvent(new CustomEvent('layer-added',{detail:this.map})))}},{key:'_sourceReady',value:function(){if(!this.source)return this._addLayer();var d=this,e=this.map.getSource(this.source);e?this._addLayer():this.map.on('sourcedata',function(){d._addLayer()})}}],[{key:'is',get:function(){return'mapbox-layer'}},{key:'properties',get:function(){return{source:{type:String},sourceLayer:{type:String}}}},{key:'observers',get:function(){return['_mapReady(map, _layer)']}}]),b}(Polymer.mixinBehaviors([MapboxGLPolymer.LayerBehavior],Polymer.Element));window.customElements.define(MapboxLayer.is,MapboxLayer);</script></dom-module></body></html>